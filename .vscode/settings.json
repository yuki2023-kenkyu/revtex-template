{
  "[latex]": {
    "editor.wordWrap": "on",
    // 日本語の単語区切り（テンプレとして残す：英文でも害はない）
    "editor.wordSeparators": "./\\()\"'-:,.;<>~!@#$%^&*|+=[]{}`~?゠・，、；：！？．。‘’“”（）｟｠［］〚〛〔〕｛｝〈〉《》「」『』【】〖〗〝〟がてでとにのはへもやを",
    "editor.tabSize": 4,
    "editor.insertSpaces": true,
    "editor.detectIndentation": false,
    "editor.suggestSelection": "recentlyUsedByPrefix",
    "editor.suggest.snippetsPreventQuickSuggestions": false,
    "editor.quickSuggestions": {
      "other": true,
      "comments": false,
      "strings": false
    },
    "editor.bracketPairColorization.enabled": true,
    "editor.language.colorizedBracketPairs": [],
    "editor.unicodeHighlight.invisibleCharacters": true,
    "editor.unicodeHighlight.allowedCharacters": {
      "，": true,
      "．": true,
      ",": true,
      ".": true,
      "！": true,
      "？": true,
      "［": true,
      "］": true,
      "｛": true,
      "｝": true,
      "＜": true,
      "＞": true
    },
    "editor.stickyScroll.enabled": true,
    "files.trimTrailingWhitespace": true
  },

  // ----------------------------
  // LaTeX Workshop (RevTeX / English)
  // ----------------------------

  // out/ に生成物を集約（latexmk と整合させる）
  "latex-workshop.latex.outDir": "out",

  // ビルドは latexmk（= .latexmkrc を読む前提）1本化
  // 「Build LaTeX project」で呼ばれる recipe は recipe.default で指定（公式Wiki）。:contentReference[oaicite:3]{index=3}
  "latex-workshop.latex.recipe.default": "latexmk (latexmkrc)",

  "latex-workshop.latex.recipes": [
    {
      "name": "latexmk (latexmkrc)",
      "tools": ["latexmk"]
    }
  ],

  "latex-workshop.latex.tools": [
    {
      "name": "latexmk",
      "command": "latexmk",
      "args": [
        "-pdf",
        "-synctex=1",
        "-interaction=nonstopmode",
        "-file-line-error",
        "-outdir=%OUTDIR%",
        "%DOCFILE_EXT%"
      ]
    }
  ],

  // ----------------------------
  // Clean（補助ファイル削除）
  // ----------------------------
  // build後に自動で clean（onBuilt）:contentReference[oaicite:4]{index=4}
  "latex-workshop.latex.autoClean.run": "onBuilt",

  // clean の実体は latexmk を呼ぶ（公式Wikiの clean.method/command/args）。:contentReference[oaicite:5]{index=5}
  // これにより OS 依存の del/copy を排除し、docker/WSL でも同じ動きにできます。
  "latex-workshop.latex.clean.method": "command",
  "latex-workshop.latex.clean.command": "latexmk",
  "latex-workshop.latex.clean.args": ["-outdir=%OUTDIR%", "-c", "%TEX%"],

  // ----------------------------
  // Build / View
  // ----------------------------
  "latex-workshop.view.pdf.viewer": "tab",
  "latex-workshop.latex.autoBuild.run": "onSave",
  "latex-workshop.synctex.afterBuild.enabled": true,

  // ----------------------------
  // Intellisense（BibTeX）
  // ----------------------------
  // citation.backend は bibtex/biblatex の enum。BibTeX運用なら bibtex。:contentReference[oaicite:6]{index=6}
  "latex-workshop.intellisense.citation.backend": "bibtex",
  "latex-workshop.intellisense.citation.maxfilesizeMB": 5,
  "latex-workshop.intellisense.citation.label": "title",
  "latex-workshop.intellisense.citation.type": "inline",
  "latex-workshop.intellisense.citation.format": [
    "author",
    "title",
    "journal",
    "publisher",
    "booktitle",
    "year"
  ],
  "latex-workshop.intellisense.label.command": ["label", "linelabel", "zlabel"],

  // ----------------------------
  // Editor per-language
  // ----------------------------
  "[tex]": {
    "editor.suggest.snippetsPreventQuickSuggestions": false,
    "editor.tabSize": 2
  },
  "[bibtex]": {
    "editor.wordWrap": "off",
    "editor.tabSize": 2,
    "editor.insertSpaces": true,
    "files.trimTrailingWhitespace": true
  },

  // ----------------------------
  // BibTeX formatting (optional)
  // ----------------------------
  "latex-workshop.bibtex-format.tab": "2 spaces",
  "latex-workshop.bibtex-format.case": "lowercase",
  "latex-workshop.bibtex-format.surround": "Curly braces",
  "latex-workshop.bibtex-format.trailingComma": true,
  "latex-workshop.bibtex-format.handleDuplicates": "Comment Duplicates",
  "latex-workshop.bibtex-format.align-equal.enabled": true,
  "latex-workshop.bibtex-fields.sort.enabled": true,
  "latex-workshop.bibtex-fields.order": [
    "title",
    "author",
    "editor",
    "year",
    "journal",
    "publisher",
    "school",
    "institution"
  ],
  "latex-workshop.bibtex-format.sort.enabled": true,
  "latex-workshop.bibtex-format.sortby": ["key"],

  "latex-workshop.intellisense.package.enabled": true
}
